<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Cá»­a hÃ ng bÃ¡n bÃ¡nh</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="container">
    <!-- BÃªn trÃ¡i -->
    <section class="left">
      <div class="logo">
        <img src="anhlogo.png" alt="Logo cá»­a hÃ ng">
        <div>
          <div class="shop-name">BÃ¡nh BÃ´ng</div>
          <div class="shop-tagline">Ngá»t ngÃ o má»—i ngÃ y</div>
        </div>
      </div>

      <h1>ChÃ o má»«ng Ä‘áº¿n vá»›i cá»­a hÃ ng bÃ¡n bÃ¡nh</h1>
      <p>Táº¡i Ä‘Ã¢y báº¡n cÃ³ thá»ƒ Ä‘Äƒng kÃ½ tÃ i khoáº£n Ä‘á»ƒ Ä‘áº·t bÃ¡nh, lÆ°u Ä‘Æ¡n hÃ ng vÃ  theo dÃµi khuyáº¿n mÃ£i.</p>

      <div class="products">
        <div class="product">ğŸ‚ BÃ¡nh kem matcha</div>
        <div class="product">ğŸ§ Cupcake dÃ¢u</div>
        <div class="product">ğŸ° BÃ¡nh mousse</div>
      </div>

      <p class="note">ÄÃ£ cÃ³ tÃ i khoáº£n? Chuyá»ƒn sang tab ÄÄƒng nháº­p Ä‘á»ƒ vÃ o tÃ i khoáº£n cá»§a báº¡n.</p>
    </section>

    <!-- BÃªn pháº£i -->
    <section class="right">
      <nav class="tabs">
        <div class="tab active" id="tab-login">ÄÄƒng nháº­p</div>
        <div class="tab" id="tab-register">ÄÄƒng kÃ½</div>
      </nav>

      <div id="messages" class="small"></div>

      <!-- Form Ä‘Äƒng nháº­p -->
      <form id="form-login">
        <input id="login-email" type="email" placeholder="Email" required>
        <input id="login-password" type="password" placeholder="Máº­t kháº©u" required>
        <button type="submit" class="btn primary">ÄÄƒng nháº­p</button>
      </form>

      <!-- Form Ä‘Äƒng kÃ½ -->
      <form id="form-register" style="display:none">
        <input id="reg-name" type="text" placeholder="Há» vÃ  tÃªn" required>
        <input id="reg-email" type="email" placeholder="Email" required>
        <input id="reg-password" type="password" placeholder="Máº­t kháº©u (â‰¥6 kÃ½ tá»±)" required>
        <input id="reg-password2" type="password" placeholder="XÃ¡c nháº­n máº­t kháº©u" required>
        <button type="submit" class="btn primary">Táº¡o tÃ i khoáº£n</button>
        <div class="small">Báº±ng viá»‡c táº¡o tÃ i khoáº£n báº¡n Ä‘á»“ng Ã½ vá»›i <a href="#">Äiá»u khoáº£n</a>.</div>
      </form>
    </section>
  </main>

  <script>
    const $ = id => document.getElementById(id);
    const tabLogin = $("tab-login"), tabRegister = $("tab-register");
    const formLogin = $("form-login"), formRegister = $("form-register");
    const messages = $("messages");

    function showMessage(text, type="") {
      messages.textContent = text;
      messages.className = type ? type + " small" : "small";
    }
    function switchTo(tab) {
      if(tab==="login"){
        tabLogin.classList.add("active"); tabRegister.classList.remove("active");
        formLogin.style.display="flex"; formRegister.style.display="none";
      } else {
        tabRegister.classList.add("active"); tabLogin.classList.remove("active");
        formRegister.style.display="flex"; formLogin.style.display="none";
      }
    }

    tabLogin.onclick = ()=> switchTo("login");
    tabRegister.onclick = ()=> switchTo("register");

    formRegister.onsubmit = e => {
      e.preventDefault();
      const name = $("reg-name").value.trim();
      const email = $("reg-email").value.trim().toLowerCase();
      const pw = $("reg-password").value, pw2 = $("reg-password2").value;

      if(pw.length < 6) return showMessage("Máº­t kháº©u pháº£i â‰¥6 kÃ½ tá»±","error");
      if(pw!==pw2) return showMessage("Máº­t kháº©u khÃ´ng khá»›p","error");

      const users = JSON.parse(localStorage.getItem("users")||"{}");
      if(users[email]) return showMessage("Email Ä‘Ã£ tá»“n táº¡i","error");

      users[email] = {name,email,password:pw};
      localStorage.setItem("users",JSON.stringify(users));
      showMessage("ÄÄƒng kÃ½ thÃ nh cÃ´ng! HÃ£y Ä‘Äƒng nháº­p.","success");
      $("login-email").value = email;
      switchTo("login");
    };

    formLogin.onsubmit = e => {
      e.preventDefault();
      const email = $("login-email").value.trim().toLowerCase();
      const pw = $("login-password").value;
      const users = JSON.parse(localStorage.getItem("users")||"{}");
      const u = users[email];
      if(!u || u.password!==pw) return showMessage("Sai email hoáº·c máº­t kháº©u","error");
      showMessage("Xin chÃ o, "+u.name+"!","success");
    };

    switchTo("login");
  </script>
</body>
</html>
